= Der Raspberry Pi als WiFi Access Point
:jbake-title: Nerd-Spielzeug: WiFi AP
:jbake-author: rdmueller
:jbake-type: post
:jbake-toc: true
:jbake-tags: raspberry-pi, nerd, raspberry
:jbake-lang: de
:jbake-status: published
:jbake-date: 2023-01-26
:jbake-pseudo: nerd-toy-ap
//:jbake-tags: 3d-printing, raspberry-pi, electronics, nerd
:doctype: article
:toc: macro

:icons: font

:uri-ethernetgadget: https://github.com/thagrol/Guides

ifndef::imagesdir[:imagesdir: ../images]

Das letzte Mal habe ich von den Features von Z√ºmi erz√§hlt.
Dieses Mal m√∂chte ich die Umsetzung des ersten Features beschreiben.

Da ich mit dem Aufsetzen des WiFi Access Points die meisten Probleme hatte, beginne ich auch damit.

Das Ziel ist es den Raspberry so aufzusetzen, dass er einen Access Point bereitstellt, √ºber den man auf einen Webserver und somit webbasierte Software auf dem Raspberry Pi zugreifen kann.
Als Bonus soll sich der Raspberry Pi auch √ºber ein weiteres WiFi Netz mit dem Internet verbinden und diese Verbindung durchreichen.
In diesem Fall spricht man auch von _Bridging_.

image::blog/2023/raspi-ap.dio.png[]

Warum ist das so schwierig?
Den Raspberry Pi betreibe ich gerne headless (ohne Monitor) und verbinde mich per SSH √ºber WiFi mit ihm.
Wenn ich nun mit der WiFi-Konfiguration rumspiele und etwas schiefl√§uft, dann ist die Wahrscheinlichkeit hoch, dass ich von Vorne anfangen muss, weil ich mich ausgesperrt habe üòí.

Eine zweite Herausforderung ist die Tatsache, dass ein WiFi-Modul zwei Verbindungen herstellen muss.
Aber dieses Problem haben schon andere schlaue K√∂pfe gel√∂st.

== L√∂sung

:uri-wap: https://www.raspberrypi.com/documentation/computers/configuration.html#setting-up-a-routed-wireless-access-point

Auf der Suche im Internet nach einer L√∂sung bin ich auf viele Tutorials gestossen.
So beschreibt z.B. die Raspberry Pi Dokumentation direkt das {uri-wap}[Setup des Wireless Access Points].
Hier wird die WiFi-Verbindung jedoch auf den Ethernet-Port geroutet.
Auch das manuelle Setup sagt mir nicht ganz zu, da die Erfahrungen mit solchen Tutorials, gepaart mit meinem Know-How, nicht immer positiv waren.

Die L√∂sung habe ich dann auf https://raspap.com/ gefunden.

"The easiest, full-featured wireless router setup for Debian-based devices. Period."

Eine Open Source WiFi Access Point L√∂sung mit Web-Interface üòç.

Das initiale installieren geht √ºber ein gef√ºhrtes Setup ganz leicht.
Beim Konfigurieren sperrt man sich aber ganz leicht aus.
Deshalb hier meine Tipps:

* beim Aufsetzen des Raspi, nach dem ersten Booten √ºber `sudo raspi-config` das WiFi-Passwort neu setzen.
Aus Sicherheitsgr√ºnden wurde es mit einem Token ersetzt, welcher zu Problemen mit dem RaspAP Frontend f√ºhrt.
* befolge die Anleitung auf https://docs.raspap.com/ap-sta/[AP-STA] peinlich genau
* Beim Start des Setup die erste Frage nach dem Installationsverzeichnis `/var/www/html` verneinen, um als Verzeichnis `/var/www/html/raspap` anzugeben.
Dadurch ist RaspAP dann unter http://server/raspap erreichbar und der daf√ºr installiere Webserver kann leicht noch f√ºr eigene Websites verwendet werden.

* Im RaspAP Frontend unter dem Punkt "Wireless Client" die bestehende Verbindung erneut herstellen.
* Der "WiFi client AP mode"-Button ist weiter ausgegraut?
Unter dem Reiter "Logging" das Logging kurz aktivieren und speichern.
Danach sollte der Button funktionieren.



toc::[]